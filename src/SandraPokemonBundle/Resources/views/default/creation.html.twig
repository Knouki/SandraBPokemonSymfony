{% extends 'SandraPokemonBundle::base.html.twig' %}

{% block javascripts %}
<script>
    function allowDrop(ev) {
        ev.preventDefault();
    }

    function drag(ev) {
        ev.dataTransfer.setData("zone", ev.target.id);
    }

    function drop(ev) {
        ev.preventDefault();
        var data = ev.dataTransfer.getData("zone");
        ev.target.appendChild(document.getElementById(data));
    }

    function dragType(ev) {
        ev.dataTransfer.setData("type", ev.target.id);
    }

    function dropType(ev) {
        ev.preventDefault();
        var data = ev.dataTransfer.getData("type");
        ev.target.appendChild(document.getElementById(data));
    }

</script>

{% endblock %}

{% block content_body %}
    <div class="row" style="margin: 10px;">
        <h1>Créateur de pokémon</h1>

        <div class="form-group">
            {{ form_label(pokemonForm.nom) }}
            {{ form_widget(pokemonForm.nom) }}
        </div>
        <div class="form-group">
            {{ form_label(pokemonForm.attaque) }}
            {{ form_widget(pokemonForm.attaque) }}
        </div>
        <div class="form-group">
            {{ form_label(pokemonForm.attaqueSpe) }}
            {{ form_widget(pokemonForm.attaqueSpe) }}
        </div>
        <div class="form-group">
            {{ form_label(pokemonForm.defence) }}
            {{ form_widget(pokemonForm.defence) }}
        </div>
        <div class="form-group">
            {{ form_label(pokemonForm.defenceSpe) }}
            {{ form_widget(pokemonForm.defenceSpe) }}
        </div>
        <div class="form-group">
            {{ form_label(pokemonForm.vitesse) }}
            {{ form_widget(pokemonForm.vitesse) }}
        </div>
        <div class="form-group">
            {{ form_label(pokemonForm.pv) }}
            {{ form_widget(pokemonForm.pv) }}
        </div>

        <div class="form-group">
            {{ form_label(pokemonForm.idZones, "Zones") }}

            <div id="div1" style="width: 100%; height: 100px; border: solid 1px brown;" ondrop="drop(event)" ondragover="allowDrop(event)">

            </div>

            <div class="col-md-12">
            {% for zone in zones %}
                <a style="background-color: #B94A48; color: white;" id="{{ zone.idZones }}" draggable="true" ondragstart="drag(event)">{{ zone.nom }}</a>
            {% endfor %}
            </div>

        </div>

        <div class="form-group">
            {{ form_label(pokemonForm.idTypes, "Types") }}

            <div id="div2" style="width: 100%; height: 100px; border: solid 1px burlywood;" ondrop="dropType(event)" ondragover="allowDrop(event)">

            </div>

            <div class="col-md-12">
                {% for type in types %}
                    <a style="background-color: burlywood; color: white;" id="{{ type.idTypes }}" draggable="true" ondragstart="dragType(event)">{{ type.nom }}</a>
                {% endfor %}
            </div>
        </div>


        <button type="submit" class="btn btn-default">Valider</button>
    </div>

{% endblock %}